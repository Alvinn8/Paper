From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sun, 28 Jun 2020 19:36:55 -0400
Subject: [PATCH] Don't allow null UUID's for chat


diff --git a/src/main/java/net/minecraft/network/protocol/game/ClientboundChatPacket.java b/src/main/java/net/minecraft/network/protocol/game/ClientboundChatPacket.java
index 698c50974d7d3c8c90df9de94c816c767d9c36fd..2ef312e3bd02c332d0953874afdac1690b4d1649 100644
--- a/src/main/java/net/minecraft/network/protocol/game/ClientboundChatPacket.java
+++ b/src/main/java/net/minecraft/network/protocol/game/ClientboundChatPacket.java
@@ -2,6 +2,7 @@ package net.minecraft.network.protocol.game;
 
 import java.io.IOException;
 import java.util.UUID;
+import net.minecraft.Util;
 import net.minecraft.network.FriendlyByteBuf;
 import net.minecraft.network.chat.ChatType;
 import net.minecraft.network.chat.Component;
@@ -19,7 +20,7 @@ public class ClientboundChatPacket implements Packet<ClientGamePacketListener> {
     public ClientboundChatPacket(Component message, ChatType location, UUID senderUuid) {
         this.message = message;
         this.type = location;
-        this.sender = senderUuid;
+        this.sender = senderUuid != null ? senderUuid : Util.getNullUUID(); // Paper
     }
 
     @Override
