From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Nesaak <52047222+Nesaak@users.noreply.github.com>
Date: Sat, 23 May 2020 10:31:11 -0400
Subject: [PATCH] Expose Arrow getItemStack


diff --git a/src/main/java/net/minecraft/world/entity/projectile/AbstractArrow.java b/src/main/java/net/minecraft/world/entity/projectile/AbstractArrow.java
index 590e528f0eaf8eda49f0a389bf0df2d2fbca0138..c946c364885a46d9ad0a2c494dd82091cf223bd9 100644
--- a/src/main/java/net/minecraft/world/entity/projectile/AbstractArrow.java
+++ b/src/main/java/net/minecraft/world/entity/projectile/AbstractArrow.java
@@ -557,6 +557,7 @@ public abstract class AbstractArrow extends Projectile {
         }
     }
 
+    public final ItemStack getOriginalItemStack() { return getPickupItem(); }  // Paper - OBFHELPER - exists purely due to overrides all as protected and dont want to change them all
     protected abstract ItemStack getPickupItem();
 
     @Override
diff --git a/src/main/java/org/bukkit/craftbukkit/entity/CraftArrow.java b/src/main/java/org/bukkit/craftbukkit/entity/CraftArrow.java
index fcba0feb352a58d13770c1b0352a5b315c28bc70..7765a4cfe0762e63240ad778498bc4bea3ae838a 100644
--- a/src/main/java/org/bukkit/craftbukkit/entity/CraftArrow.java
+++ b/src/main/java/org/bukkit/craftbukkit/entity/CraftArrow.java
@@ -101,6 +101,13 @@ public class CraftArrow extends AbstractProjectile implements AbstractArrow {
         getHandle().pickup = net.minecraft.world.entity.projectile.AbstractArrow.Pickup.byOrdinal(status.ordinal());
     }
 
+    // Paper start
+    @Override
+    public org.bukkit.craftbukkit.inventory.CraftItemStack getItemStack() {
+        return org.bukkit.craftbukkit.inventory.CraftItemStack.asCraftMirror(getHandle().getOriginalItemStack());
+    }
+    //Paper end
+
     @Override
     public void setTicksLived(int value) {
         super.setTicksLived(value);
